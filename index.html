<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Date Invite</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, Helvetica, sans-serif;
    }

    body {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #ff758c, #ff7eb3);
    }

    .container {
        width: 90%;
        max-width: 500px;
        background: white;
        border-radius: 16px;
        padding: 30px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        position: relative;
        overflow: hidden;
        min-height: 360px;
    }

    .date {
        font-size: 18px;
        color: #ff4d6d;
        margin-bottom: 15px;
        font-weight: bold;
    }

    .slide-text {
        font-size: 20px;
        line-height: 1.5;
        margin-bottom: 30px;
        min-height: 120px;
    }

    button {
        padding: 12px 22px;
        border: none;
        border-radius: 8px;
        background: #ff4d6d;
        color: white;
        font-size: 16px;
        cursor: pointer;
        transition: 0.3s;
        margin: 5px;
    }

    button:hover {
        background: #e63956;
    }

    .fade {
        animation: fade 0.4s ease;
    }

    @keyframes fade {
        from {opacity: 0; transform: translateY(10px);} 
        to {opacity: 1; transform: translateY(0);} 
    }

    .footer {
        margin-top: 15px;
        font-size: 13px;
        color: #777;
    }

    .response-box {
        display: none;
        margin-top: 15px;
        position: relative;
        height: 140px;
    }

    .response-box p {
        margin-bottom: 10px;
        font-size: 18px;
    }

    .yes-btn {
        position: relative;
        z-index: 2;
    }

    .no-btn {
        position: absolute;
        left: 60%;
        top: 70px;
        z-index: 1;
    }
</style>
</head>
<body>

<div class="container" id="container">
    <div class="date"></div>
    <div id="slide" class="slide-text fade"></div>

    <button id="nextBtn">Next ‚ûú</button>

    <!-- Formspree Integration -->
    <form
        id="responseForm"
        class="response-box"
        action="https://formspree.io/f/xbdagbql"
        method="POST"
    >
        <p>So... what do you say?</p>

        <!-- Hidden data fields -->
        <input type="hidden" name="response" id="responseInput">
        <input type="hidden" name="source" value="Valentine Invite">

        <button type="submit" class="yes-btn" onclick="setResponse('Yes')">Yes ‚ù§Ô∏è</button>
        <button type="submit" class="no-btn" id="noBtn" onclick="setResponse('No')">No üôà</button>
    </form>

    <div class="footer">Tap next to continue</div>
</div>

<script>
const slides = [
    "Hey! I wanted to tell you something...",
    "I really enjoy talking with you and getting to know you.",
    "Our conversations have honestly become a nice part of my day.",
    "So I thought I should be clear instead of hinting around...",
    "I'd like to officially ask you out on a date.",
    "Just to know each other better and see where things go, no pressure.",
    "If you‚Äôd like to take things slow or need time, that‚Äôs completely okay.",
    "I genuinely feel this could work, and I‚Äôd love to see where it goes.",
    "If you're up for it, maybe we can go out whenever you're comfortable and ready?",
    "Here comes the important question..."
];

let index = 0;
const slideEl = document.getElementById("slide");
const nextBtn = document.getElementById("nextBtn");
const formBox = document.getElementById("responseForm");
const noBtn = document.getElementById("noBtn");

function showSlide() {
    slideEl.classList.remove("fade");
    void slideEl.offsetWidth;
    slideEl.classList.add("fade");
    slideEl.textContent = slides[index];

    if (index === slides.length - 1) {
        nextBtn.style.display = "none";
        formBox.style.display = "block";
        moveNoButton(); // place randomly first time
    }
}

nextBtn.addEventListener("click", () => {
    if (index < slides.length - 1) {
        index++;
        showSlide();
    }
});

function setResponse(answer) {
    document.getElementById("responseInput").value = answer;
}

// Move NO button to random positions inside form box
function moveNoButton() {
    const boxWidth = formBox.clientWidth;
    const boxHeight = formBox.clientHeight;

    const btnWidth = noBtn.offsetWidth;
    const btnHeight = noBtn.offsetHeight;

    const maxX = boxWidth - btnWidth - 10;
    const maxY = boxHeight - btnHeight - 10;

    const randX = Math.random() * maxX;
    const randY = Math.random() * maxY;

    noBtn.style.left = randX + "px";
    noBtn.style.top = randY + "px";
}

// Run away on hover or touch
noBtn.addEventListener("mouseenter", moveNoButton);
noBtn.addEventListener("mouseover", moveNoButton);
noBtn.addEventListener("touchstart", moveNoButton);

showSlide();
</script>

</body>
</html>
